<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Array Cardio 💪</title>
</head>
<body>
  <p><em>Psst: have a look at the JavaScript Console</em> 💁</p>
  <script>
    // Get your shorts on - this is an array workout!
    // ## Array Cardio Day 1

    // Some data we can work with

    const inventors = [
      { first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 },
      { first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 },
      { first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 },
      { first: 'Marie', last: 'Curie', year: 1867, passed: 1934 },
      { first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 },
      { first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 },
      { first: 'Max', last: 'Planck', year: 1858, passed: 1947 },
      { first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 },
      { first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 },
      { first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 },
      { first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 },
      { first: 'Hanna', last: 'Hammarström', year: 1829, passed: 1909 }
    ];

    const people = ['Beck, Glenn', 'Becker, Carl', 'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry', 'Beethoven, Ludwig', 'Begin, Menachem', 'Belloc, Hilaire', 'Bellow, Saul', 'Benchley, Robert', 'Benenson, Peter', 'Ben-Gurion, David', 'Benjamin, Walter', 'Benn, Tony', 'Bennington, Chester', 'Benson, Leana', 'Bent, Silas', 'Bentsen, Lloyd', 'Berger, Ric', 'Bergman, Ingmar', 'Berio, Luciano', 'Berle, Milton', 'Berlin, Irving', 'Berne, Eric', 'Bernhard, Sandra', 'Berra, Yogi', 'Berry, Halle', 'Berry, Wendell', 'Bethea, Erin', 'Bevan, Aneurin', 'Bevel, Ken', 'Biden, Joseph', 'Bierce, Ambrose', 'Biko, Steve', 'Billings, Josh', 'Biondo, Frank', 'Birrell, Augustine', 'Black, Elk', 'Blair, Robert', 'Blair, Tony', 'Blake, William'];

    // Array.prototype.filter()
    // 1. Filter the list of inventors for those who were born in the 1500's
    //Pass filter a function and that function will loop over every item in our array
    //First implementation
    // const fifteen = inventors.filter(function(inventor){
      //   if(inventor.year >= 1500 && inventor.year <= 1599){
        //     return true; //keep it
        //   }
        //   //no need to return false (it will just throw it in the garbage if anything other than true)
        // });

    //Filter gets passed a function and it will loop over the array and we get to decide if we want to keep it or not. Keep by returning true, otherwise it is thrown away, so no need to return false.
    const fifteen = inventors.filter(inventor => (inventor.year >= 1500 && inventor.year <= 1599));
      //no need to return false (it will just throw it in the garbage if anything other than true)
  
    console.table(fifteen);
    // Array.prototype.map()
    // 2. Give us an array of the inventors' first and last 
    //Takes in an array and does something with that array and returns a new array with the same length as the original
    //Always gives us the same numbers of entries back as are contained in the original array.
    const fullNames = inventors.map(inventor => `${inventor.first} ${inventor.last}`);
    console.log(fullNames);

    // Array.prototype.sort()
    // 3. Sort the inventors by birthdate, oldest to youngest
    // Sort compares two items at a times and sorts them by returning 1 and -1 and works by bubbling items up and down in the array
    const ordered = inventors.sort(function(a,b){
      if(a.year > b.year){
        return 1;
      }
      return -1;
    });
    //console.table(ordered);

    const shortOrdered = inventors.sort((a,b) => a.year > b.year ? 1 : -1);
    console.table(shortOrdered);

    // Array.prototype.reduce()
    // 4. How many years did all the inventors live?

    // Reduce allows you to build something on every single entry in the array (kind of creates a running total)
    const totalYears = inventors.reduce((total, inventor) => {
      return total + (inventor.passed - inventor.year);
    }, 0); // 0 gives us an initial total value

    console.log(totalYears);

    // 5. Sort the inventors by years lived
    const oldest = inventors.sort((a,b) => (a.passed - a.year) < (b.passed - b.year)? 1 : -1);

    console.table(oldest);

    // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name
    // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris
    // const category = document.querySelector('.mw-category');
    // const links = [...category.querySelectorAll('a')]; // returns a node list so we need to convert it to an array
    // // const links = Array.from(category.querySelectorAll('a'); //Another way to convert to any array
    // const de = links
    //             .map(link => link.textContent) //returns a new array of just the textcontent from the links
    //             .filter(streetName => streetName.includes('de'));

    // 7. sort Exercise
    // Sort the people alphabetically by last name
    const lastName = people.sort((last,next) => {
      const [aLast, aFirst] = last.split(', ');
      const [bLast, bFirst] = next.split(', ');
      return aLast > bLast ? 1 : -1;
    });

    console.table(lastName);

    // 8. Reduce Exercise
    // Sum up the instances of each of these
    const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];

    const transportation = data.reduce((obj, item) => {
      if(!obj[item]){ //if the items does not yet exist then add it with an initialized value
        obj[item] = 0;
      }
      obj[item]++;
      return obj;
    }, {});

    console.log(transportation);
  </script>
</body>
</html>
